--- /etc/rc.orig	2015-10-04 21:56:40.000000000 +0400
+++ /etc/rc	2015-10-05 00:40:09.000000000 +0400
@@ -124,13 +124,19 @@
 fi
 
 files=`rcorder ${skip} ${skip_firstboot} /etc/rc.d/* ${local_rc} 2>/dev/null`
+_init_rc=
 for _rc_elem in ${files}; do
 	case "$_rc_elem_done" in
 	*" $_rc_elem "*)	continue ;;
 	esac
 
-	run_rc_script ${_rc_elem} ${_boot}
+	_init_rc="${_init_rc} ${_rc_elem}"
 done
+(
+	LOCK_DIR=/tmp/init.lock
+	set -- -i /etc/freebsd-multitask-init.sh ${_boot} ${_init_rc}
+	. /etc/jet9-multitask-init
+)
 
 # Remove the firstboot sentinel, and reboot if it was requested.
 if [ -e ${firstboot_sentinel} ]; then
